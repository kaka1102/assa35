
<div class="white-box">
    <div class="col-sm-6" style="float:right">
        <h3 id="btn-cancel" class="box-title m-b-0" style="float: right; cursor: pointer;"><i class="ti-arrow-left" style="padding-right:10px"></i><a>@(ASS_35.Resources.HomeText.ButtonBack)</a></h3>
    </div>
    <div class="form-group text-left">
        <label class="control-label">@(ASS_35.Resources.HomeText.Full_Name) <span style="color: red;">*</span></label>
        <input type="text" class="form-control" id="txt-person-name" placeholder="@(ASS_35.Resources.HomeText.Full_Name)">
    </div>
    <div class="form-group text-left">
        <label class="control-label">@(ASS_35.Resources.HomeText.Gender) <span style="color: red;">*</span></label>
        <select class="form-control" id="cbx-person-gender">
            <option value="true">@(ASS_35.Resources.HomeText.Male)</option>
            <option value="false">@(ASS_35.Resources.HomeText.Female)</option>
        </select>
    </div>
    <div class="form-group text-left">
        <label class="control-label">@(ASS_35.Resources.HomeText.Date_of_Birth) <span style="color: red;">*</span></label>
        <input type="text" class="form-control" id="txt-person-birth" placeholder="dd/mm/yyyy">
    </div>
    <div class="form-group text-left">
        <label class="control-label">@(ASS_35.Resources.HomeText.Email) <span style="color: red;">*</span></label>
        <input type="text" class="form-control" id="txt-person-email" placeholder="Example@domain.com">
    </div>
    <div class="form-group text-left">
        <label class="control-label">@(ASS_35.Resources.HomeText.Address) <span style="color: red;">*</span></label>
        <input type="text" class="form-control" id="txt-person-address" placeholder="@(ASS_35.Resources.HomeText.Address)">
    </div>
    <div class="form-group text-left">
        <label class="control-label">@(ASS_35.Resources.HomeText.Phone) <span style="color: red;">*</span></label>
        <input type="text" class="form-control" id="txt-person-phone" placeholder="@(ASS_35.Resources.HomeText.Phone)"/>
    </div>
    <div class="form-group text-left">
        <label class="control-label">@(ASS_35.Resources.HomeText.Position) <span style="color: red;">*</span></label>
        <input type="text" class="form-control" id="txt-person-position" placeholder="@(ASS_35.Resources.HomeText.Position)"/>
    </div>
    <div class="form-group text-left">
        <label class="control-label">@(ASS_35.Resources.HomeText.ID_Card_Passport) <span style="color: red;">*</span></label>
        <input type="text" class="form-control" id="txt-id-card" placeholder="@(ASS_35.Resources.HomeText.ID_Card_Passport)"/>
    </div>
    <div class="form-group text-left">
        <label class="control-label">@(ASS_35.Resources.HomeText.Date_Range) <span style="color: red;">*</span></label>
        <input type="text" class="form-control" placeholder="dd/mm/yyyy" id="txt-date-range"/>
    </div>
    <div class="form-group text-left">
        <label class="control-label">@(ASS_35.Resources.HomeText.Expiration_Date)</label>
        <input type="text" class="form-control" placeholder="dd/mm/yyyy" id="txt-date-exp"/>
    </div>
    <div class="form-group text-left">
        <label class="control-label">@(ASS_35.Resources.HomeText.Place_of_issue) <span style="color: red;">*</span></label>
        <input type="text" class="form-control" placeholder="@(ASS_35.Resources.HomeText.Place_of_issue)" id="txt-card-location"/>
    </div>
    <div class="form-group text-left">
        @*  <label class="control-label">ảnh chứng minh thư / hộ chiếu mặt sau</label>*@
        <label class="control-label">@(ASS_35.Resources.HomeText.Photo_of_ID_Card_Passport_Front) <span style="color: red;">*</span></label>
        <input type="file" name="file" id="txt-img-passport-back"/>
    </div>
    <div class="form-group text-left">
        @*<label class="control-label">ảnh chứng minh thư / hộ chiếu mặt trước</label>*@
        <label class="control-label">@(ASS_35.Resources.HomeText.Photo_of_ID_Card_Passport_Backside) <span style="color: red;">*</span></label>
        <input type="file" name="file" id="txt-img-passport-front"/>
    </div>
    <div class="form-group text-left">
        <label class="control-label">@(ASS_35.Resources.HomeText.Number_of_employee_Cards) <span style="color: red;">*</span></label>
        <input type="text" class="form-control" placeholder="@(ASS_35.Resources.HomeText.Number_of_employee_Cards)" id="txt-number-press"/>
    </div>
    <div class="form-group text-left">
        <label class="control-label">@(ASS_35.Resources.HomeText.Photo_employee_Card)  <span style="opacity: 0.7;">( png, jpg, jpeg )</span><span style="color: red;">*</span></label>
        <input type="file" name="file" id="txt-img-employee" />
    </div>
    <div class="form-group">
        <div class="checkbox checkbox-success">
            <input type="checkbox" name="cbx-status-car" value="1"/>
            <label class="control-label">@(ASS_35.Resources.HomeText.Parking_Registration)</label>
        </div>
    </div>
    <div class="form-group">
        <div class="checkbox checkbox-success">
            <input type="checkbox" name="cbx-status-hotel" value="1"/>
            <label class="control-label">@(ASS_35.Resources.HomeText.Room_Registration)</label>
        </div>
    </div>
    <div class="form-actions">
        <button id="btn-save" type="button" class="btn btn-success"> <i class="fa fa-check"></i>@(ASS_35.Resources.HomeText.ButtonSave)</button>
    </div>
</div>
<script>
    $(function () {
        $("#txt-person-birth").datepicker({
            changeYear: true,
            yearRange: "1918:2017",
            dateFormat: "dd/mm/yy",
            altFormat: "dd/mm/yy"
        });
        $("#txt-date-range").datepicker({
            changeYear: true,
            yearRange: "1918:2017",
            dateFormat: "dd/mm/yy",
            altFormat: "dd/mm/yy"
        });
        $("#txt-date-exp").datepicker({
            changeYear: true,
            yearRange: "1918:2017",
            dateFormat: "dd/mm/yy",
            altFormat: "dd/mm/yy"
        });
        BindButtonSaveClick();
        BindButtonCancelClick();
    });

    function BindButtonCancelClick() {
        $("#btn-cancel").click(function () {
            LoadPage('@Url.Action("MemberOfGroup","AccountInfo")');
        });
    }
    function RegisterResult(data) {
        if (data.result.IsSuccess === false) {
            QTW_RUN_MESS.alter_Message_Error(data.result.Message);
        } else {
            QTW_RUN_MESS.alter_Message_Success(data.result.Message);
        }
    }
    function BindButtonSaveClick() {
        $("#btn-save").click(function () {
            var personName = $("#txt-person-name").val();
            var personGender = $("#cbx-person-gender").val();
            var personBirth = $("#txt-person-birth").val();
            var personEmail = $("#txt-person-email").val();
            var personAddress = $("#txt-person-address").val();
            var personPhone = $("#txt-person-phone").val();
            var personPosition = $("#txt-person-position").val();
            var personCardId = $("#txt-id-card").val();
            var personDateRange = $("#txt-date-range").val();
            var personDateExp = $("#txt-date-exp").val();
            var personPressCarNo = $("#txt-number-press").val();
            var personImg1 = $("#txt-img-passport-back")[0].files[0];
            var personImg2 = $("#txt-img-passport-front")[0].files[0];
            var personImg3 = $("#txt-img-employee")[0].files[0];
            var personCardLocation = $("#txt-card-location").val();
            var personStatusCar = $("input[type='checkbox'][name='cbx-status-car']:checked").val();
            var personStatusHotel = $("input[type='checkbox'][name='cbx-status-hotel']:checked").val();
            var infomationData = {
                personName: personName,
                personGender: personGender,
                personBirth: personBirth,
                personEmail: personEmail,
                personAddress: personAddress,
                personPhone: personPhone,
                personPosition: personPosition,
                personCardId: personCardId,
                personDateRange: personDateRange,
                personDateExp: personDateExp,
                personPressCarNo: personPressCarNo,
                personCardLocation: personCardLocation,
                personStatusCar: personStatusCar,
                personStatusHotel: personStatusHotel
            }
            var formData = new FormData();
            formData.append("data", JSON.stringify(infomationData));
            formData.append("file1", personImg1);
            formData.append("file2", personImg2);
            formData.append("file3", personImg3);
            QTW_JQUERY.RUN_AJAX("ajaxPOST", "/AccountInfo/_AddMember", formData, RegisterResult);
        });
    }
</script>